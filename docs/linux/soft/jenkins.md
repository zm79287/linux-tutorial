# Jenkins ???

> ???????
>
> - JDK??JDK7+??????????? JDK 8

## ????

> ?¦Ï???[?????????](https://jenkins.io/zh/doc/book/installing/)

### War ??????

????????????

??1????????????????

????[??????????](https://jenkins.io/zh/download/)?????????·Ú?????

??????????????? war ?·Ú 2.89.4??http://mirrors.jenkins.io/war-stable/latest/jenkins.war

??????????????`/opt/software/jenkins`

```bash
mkdir -p /opt/software/jenkins
wget -O /opt/software/jenkins/jenkins.war http://mirrors.jenkins.io/war-stable/latest/jenkins.wa
```

??2??????

???????????????? war ?·Ú??????????? war ??? Tomcat ?? webapps ???????? Tomcat ????????

????????????? `java -jar` ???????????

```bash
cd /opt/software/jenkins
nohup java -jar jenkins.war --httpPort=8080 >> nohup.out 2>&1 &
```

### rpm ??????

??1????????

```bash
sudo wget -O /etc/yum.repos.d/jenkins.repo https://pkg.jenkins.io/redhat-stable/jenkins.repo
sudo rpm --import https://pkg.jenkins.io/redhat-stable/jenkins.io.key
yum install jenkins
```

??2??????

```bash
systemctl start jenkins
```

### ????

1. ??????????????? `http://localhost:8080`.
2. ????????????.

## ??????

## FAQ

### ???????

????????????????????????????¡¤??????

??????? `cat /root/.jenkins/secrets/initialAdminPassword`???????????????????????

### ????????

1.??? `vim /root/.jenkins/config.xml` ?????????????

```xml
<useSecurity>true</useSecurity>
<authorizationStrategy class="hudson.security.FullControlOnceLoggedInAuthorizationStrategy">
  <denyAnonymousReadAccess>true</denyAnonymousReadAccess>
</authorizationStrategy>
<securityRealm class="hudson.security.HudsonPrivateSecurityRealm">
  <disableSignup>true</disableSignup>
  <enableCaptcha>false</enableCaptcha>
</securityRealm>
```

2.???? Jenkins ????

3.???????>????????>??Configure Global Security????

4.???????????????

5.?????Jenkins ???????????????????????—J??

6.?????????>????????,??????????????????????

7.???????????????§Ò???

8.??????????????????—¨?????????????

### ???? check ???

**????**?????????????? check ???

**???**??jenkins ??????????????????? www.google.com?????§Ø?????????????????????????????????????????????????

**???????**?????`vim /root/.jenkins/updates/default.json`???? `connectionCheckUrl` ??? `www.google.com` ??? `www.baidu.com` ????????????¨À?

??????????????

```bash
sed -i 's/www.google.com/www.baidu.com/g' /root/.jenkins/updates/default.json
```

### ???? getting startted ???

**????**?????? getting startted ???

**???**??jenkins ???????????????????????????????????????

**???????**?????`vim /root/.jenkins/hudson.model.UpdateCenter.xml`???? `<url>` ??? `http://mirror.xmission.com/jenkins/updates/update-center.json` ????????????¨À?

??????????????

```bash
sed -i '/^<url>/s/.*/<url>http:\/\/mirror.xmission.com\/jenkins\/updates\/update-center.json<\/url>/g' /root/.jenkins/hudson.model.UpdateCenter.xml
```

### ?? root ???????

??1????? jenkins ???

```bash
vim /etc/sysconfig/jenkins
```

??????

```bash
$JENKINS_USER="root"
```

??2????? `Jenkins` ??????????????

```bash
chown -R root:root /var/lib/jenkins
chown -R root:root /var/cache/jenkins
chown -R root:root /var/log/jenkins
```

??3?????? Jenkins

```
systemctl restart jenkins
```

## ?¦Ï?????

- **???**
  - [Jenkins ????](https://jenkins.io/zh/)

- **????**
  - [?????????????????????](https://github.com/dunwu/OS)
- **????**
  - https://jenkins.io/doc/pipeline/tour/getting-started/
  - https://www.cnblogs.com/austinspark-jessylu/p/6894944.html
  - http://blog.csdn.net/jlminghui/article/details/54952148
