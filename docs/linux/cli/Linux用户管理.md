---
title: Linux ???????
date: 2018-02-27
categories:
  - linux
tags:
  - linux
  - command
---

# Linux ???????

> ??????`groupadd`, `groupdel`, `groupmod`, `useradd`, `userdel`, `usermod`, `passwd`, `su`, `sudo`

<!-- TOC depthFrom:2 depthTo:3 -->

- [Linux ??????????](#linux-??????????)
- [???????¡Â?](#???????¡Â?)
    - [groupadd](#groupadd)
    - [groupdel](#groupdel)
    - [groupmod](#groupmod)
    - [useradd](#useradd)
    - [userdel](#userdel)
    - [usermod](#usermod)
    - [passwd](#passwd)
    - [su](#su)
    - [sudo](#sudo)

<!-- /TOC -->

## Linux ??????????

- ????????? - ??? [groupadd](#groupadd)
- ???????? - ??? [groupdel](#groupdel)
- ??????????? - ??? [groupmod](#groupmod)
- ??????? - ??? [useradd](#useradd)
- ?????? - ??? [userdel](#userdel)
- ????????? - ??? [usermod](#usermod)
- ????????????? - ??? [passwd](#passwd)
- ?§Ý???? - ??? [su](#su)
- ???????????????????§Ö????????????????????????? - ??? [sudo](#sudo)

## ???????¡Â?

### groupadd

> groupadd ?????????????????????ï…?????????????????????????§³?
>
> ?¦Ï???http://man.linuxde.net/groupadd

?????

```bash
# ??????????ï…???????? ID ??????
$ groupadd -g 344 jsdigname
```

### groupdel

> groupdel ????????????????????ï…???????????????????? `/ect/group` ?? `/ect/gshadow`?????????????????§»?????????????????§»?????????????î•
>
> ?¦Ï???http://man.linuxde.net/groupdel

?????

```bash
$ groupadd damon  # ????damon?????
$ groupdel damon  # ???????????
```

### groupmod

> groupmod ????????????????????????????????????????????????? groupmod ????????????????
>
> ?¦Ï???http://man.linuxde.net/groupmod

### useradd

> useradd ???????? Linux ?§Õ???????????????useradd ?????????????????????????????? passwd ?Ú…?????????????? userdel ?????????? useradd ??????????????????????????? `/etc/passwd` ???????§³?
>
> ?¦Ï???http://man.linuxde.net/useradd

?????

```bash
# ????????????
$ useradd ?Cg sales jack ?CG company,employees    # -g??????????î”-G??????????

# ??????????????????????? ID
$ useradd caojh -u 544
```

### userdel

> userdel ????????????????????????????????????????????????????????????????????????????
>
> ?¦Ï???http://man.linuxde.net/userdel

?????

userdel ????????????????????§Ú???? linuxde???? home ??¦Ë??`/var`???§µ??????????????????????

```bash
$ userdel linuxde       # ??????linuxde?????????????????????
$ userdel -r linuxde    # ??????linuxde???? home ???????????????
```

### usermod

> usermod ????????????????????????usermod ???????????????????????????????????? usermod ??????????? user id????????????? user ????????????¦Ê¦Ã???????????????????? crontab ???????????????????? at ???????????? NIS server ???? server ????????? NIS ?Ú…??
>
> ?¦Ï???http://man.linuxde.net/usermod

?????

```bash
# ?? newuser2 ?????? staff ??
$ usermod -G staff newuser2

# ??? newuser ???????? newuser1
$ usermod -l newuser1 newuser

# ??????? newuser1
$ usermod -L newuser1

# ????? newuser1 ??????
$ usermod -U newuser1
```

### passwd

> passwd ?????????????????????????????????????????????????????????????????????????????????§Û???????????????????????????????????????
>
> ?¦Ï???http://man.linuxde.net/passwd

?????

```bash
# ?????????????? passwd ???????????????
# ?????????????????????????????? passwd ????????????? root ????????????????
$ passwd linuxde    # ??????linuxde?????????
Changing password for user linuxde.
New UNIX password:          # ????????????
Retype new UNIX password:   # ????????¦²?
passwd: all authentication tokens updated successfully. # ?????

# ?????????????????????????????? passwd ????????½y???????????? linuxde??
$ passwd
Changing password for user linuxde. # ????linuxde?????????
(current) UNIX password:   # ???????????
New UNIX password:         # ????????????
Retype new UNIX password:  # ?????????
passwd: all authentication tokens updated successfully. # ????????

# ?????????????????????????????????`-l`???????????
$ passwd -l linuxde    # ???????linuxde???????????
Locking password for user linuxde.
passwd: Success           # ?????????

$ su linuxde   # ???su?§Ý???linuxde?????
$ passwd      # linuxde??????????
Changing password for user linuxde.
Changing password for linuxde
(current) UNIX password:          # ????linuxde????????
passwd: Authentication token manipulation error     # ???????????????

$ passwd -d linuxde  # ???linuxde???????
Removing password for user linuxde.
passwd: Success                         # ????????

$ passwd -S linuxde    # ???linuxde???????????
Empty password.                         # ??????????????????
```

### su

> su ?????????§Ý????????????????????????????????????????????????????
>
> ?¦Ï???http://man.linuxde.net/su

?????

```bash
# ??????? root ??????? ls ?????????????????
$ su -c ls root

# ??????? root ??????`-f`????????§Ö? shell??
$ su root -f

# ??????? test ????a?????? test ???????
$ su -test
```

### sudo

> sudo ?????????????????????????????????? root???? `/etc/sudoers` ???????????? sudo ?????????????¦Ä???????????????? sudo?????????????????????????????? sudo ?????????????????????? 5 ???????§¹??????????????????????????????
>
> ?¦Ï???http://man.linuxde.net/sudo

?????

```bash
# ?????????????
$ sudo -u userb ls -l
# ?§Ô????????
$ sudo -l
# ???sudo????
$ sudo -L
```

#### ??????????? sudo

????????????? mary ???? sudo ????

1. `/etc/sudoers` ???????? sudo ??????????????????????§Õ?????????????????§Õ??`chmod u+w /etc/sudoers`
2. ??????????? `mary    ALL=(ALL)       ALL` ?????›g??????? mary ???? sudo ?????????
3. ??? `/etc/sudoers` ????????????????`chmod u-w /etc/sudoers`

#### ????????? sudo

???????????? sudo ??????????????? 2 ????`mary    ALL=(ALL)       NOPASSWD: ALL`??
