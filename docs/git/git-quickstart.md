# Git ???????

## ???

### Git ??????

Git ??????????????∑⁄????????

### ????∑⁄?????

?∑⁄???????????????????????????Å£???????????????∑⁄????????????

### ????????∑⁄????????

????????∑⁄??????????ß“???????????????????∑⁄????????

**???ß›???∑⁄??????**?????? CVS??Subversion ?????????????????ß€????????????????????????????∑⁄????ßø?????????????????????????????????????????????????????????

?????????????????????????????????????????ç™??ß≥???????????ß≥???????????????????????ßø???????????????????????????????????????????????????????????????ßÿ?????????????????????????????????????????????????

<br><div align="center"><img src="https://git-scm.com/figures/18333fig0102-tn.png"/></div><br>

**?????∑⁄??????**????????????????°„∑⁄????????????????????????????????????????????¶ ????ßø???????????????????????????????¶ ????????????????????????????¶≈????????????????????¶∆????????????????

<br><div align="center"><img src="https://git-scm.com/figures/18333fig0103-tn.png"/></div><br>

### ?????? Git??

Git ???????????? Git ?????????????∑⁄???????????? svn??cvs ????????????????????????????

**??????????????**

??????????∑⁄????????????ß≥?????????????????????????????????????∑⁄?????????????????????????????????∑⁄???????????????????????????????????????????∑⁄???????????ßø???????????????????????????? A?????????????????????????? A??????????????????????????????????????????????????????????

**??????**

??????∑⁄????????????????????????????????????????????

?????∑⁄?????????????????ßÿ?????????∑⁄????????????????????????????????

## ???

### ?∑⁄??

????????????????????? git ??????????????????????? `.git` ????????????? git ???????????∑⁄???????????????

### ????

Git ????????????õ•???????ßµ?????????ßµ????????®¢? ????¶∆????????? Git ???????????¶ ???????????????? ???????????? Git ???????? Git ??????????????? ?????????????ßÿ??????????????Git ????????

Git ???????ßµ?????????? SHA-1 ??ßµ?hash????????? ????????? 40 ??????????????0-9 ?? a-f???????????????? Git ????????????????????????? SHA-1 ?????????????????

```
24b9da6552252987aa493b52f8696cd6d3b00373
```

Git ??????????????????????????????????????? ??????Git ??????ß“?????????????????????????????????????????????

### ?????

?? GIt ?ßµ????????????????????????

- **??????modified??**

  ?????????????????????????õ‘??????ß≥?

- **????ó§staged??**

  ?????????????????????????∑⁄??????????????????????????ß≥?

- **??????committed??**

  ?????????????????????????????????ß≥?

### ????????

????????????????????????? Git ?ß’??????????????

- **????????working??**

  ???? `git clone` ????????????????????????????????????????

  ??????????????????∑⁄?????????????????? ??ßª?? Git ????????????????????????????????????????????????

* **???????staging??**

  ???????????????????????¶Õ?????????ß“??????????? Git ??????ß≥? ????????????`????????'????????????????????????

- **??????local??**

  ???????????????????????????????????õ•?? Git ??????

- **?????remote??**

  ???????????????????????????????????????????????????????????????????

  ??????????????????????????????????????????

<br><div align="center"><img src="https://gitee.com/turnon/images/raw/master/images/web/git/git-theory.png"/></div><br>

## ???

### Linux

#### Debian/Ubuntu

????????????? Debian/Ubuntu ?? ??????????

```bash
$ apt-get install libcurl4-gnutls-dev libexpat1-dev gettext \
> libz-dev libssl-dev
$ apt-get install git-core
$ git --version
git version 1.8.1.2
```

#### Centos/RedHat

????????????? Centos/RedHat ????????????

```bash
$ yum install curl-devel expat-devel gettext-devel \
> openssl-devel zlib-devel
$ yum -y install git-core
$ git --version
git version 1.7.1
```

### Windows

??[Git ?????????](https://git-scm.com/downloads)???? exe ????????????????????®¿?

???ˆó? Git Bash ??? git ???????ß€????

### Mac

??[Git ?????????](https://git-scm.com/downloads)???? mac ????????????????????®¿?

## ????

Git ?????? `git config` ?????????????????? Git ?????????????????? ??ßª?????õ•???????????¶À???

1. `/etc/gitconfig` ???: ??????????????????????????????®¢? ????????? `--system` ???? `git config` ??????????????ß’?????????
2. `\~/.gitconfig` ?? `\~/.config/git/config` ???????????????? ??????? `--global` ????? Git ??ß’???????
3. ?????®∞??? Git ???ß÷? `config` ????????? `.git/config`???????®∞??

?????????????????????????? `.git/config` ????????????? `/etc/gitconfig` ?ß÷??????????

?? Windows ???ßµ?Git ????? `$HOME` ??????????????? `C:\Users\$USER`???? `.gitconfig` ????? Git ????????? `/etc/gitconfig` ???????????? MSys ????????????? Git ?????????¶À?®¢?

### ??????

??????? Git ???????????????????????????????????????? ???????????????????? Git ?????????????ßª?????????????ß’????????????ßµ?????????

```
$ git config --global user.name "John Doe"
$ git config --global user.email johndoe@example.com
```

???????????????? `--global` ??????????????????????¶≤???????????????????????¶ ????ÔÖ Git ?????????ßª????? ?????????????????®∞????????????????????????????????????????????? `--global` ?????????????®¢?

??? GUI ??????????????????????????????ßª?????

### .gitignore

`.gitignore` ???????????úŸ???????????????????????????????????????? git ?????????????∑⁄?????

??????????ßµ???????????????????ßª????????????? Java ?????? `*.class` ?????????? IDE ????????????????Intellij ?? `.idea` ????Eclipse ?? `.settings` ???????????ßª??????????????????∑⁄????????????????????????? `.gitignore` ????????????ßª?????????

????????????????????????????????????????????

?????????? Github ?????????https://github.com/github/gitignore

??????????????????????»…?ª«Java??Nodejs??C++ ?? `.gitignore` ??????

## ????

????????????????? Git Cheat Sheet?????????????¶À???????????

???????????? git ?ß“???????????ß‘?????

<br><div align="center"><img src="https://gitee.com/turnon/images/raw/master/images/web/git/git-cheat-sheet.png"/></div><br>

### ????

#### ???????????????

```bash
# ??? SSH
$ git clone ssh://user@domain.com/repo.git

#??? HTTP
$ git clone http://domain.com/user/repo.git
```

#### ???????????????

```bash
$ git init
```

### ??????

#### ????????????

```bash
# ?????????????????
$ git add xxx

# ????????????????????
$ git add .

# ??????????????????
$ git add -A
```

#### ????????????

```bash
# ??????????????
$ git commit -a

# ?????????Å£
$ git commit

# ?????????
$ git commit -m 'commit message'
```

#### ????

?????????????????????????????????????????ß›??????????????????????????????????????®∞???????????????????????ß›??????????????????? `git stash` ???????????????????çò????????

??????????????????????????????â^

```bash
# 1. ?????????????????ÂÔ??
$ git stash

# 2. ??????ß“?
$ git stash list
stash@{0}: WIP on master: 6fae349 :memo: Writing docs.

# 3.1 ??????
$ git stash drop stash@{0}

# 3.2 ??????
$ git stash apply stash@{0}
```

### ???????

#### ???????????

```bash
# ????????????????????i.e. ???????git add??
$ git reset HEAD

# ??HEAD??????????????∑⁄????????????????¶ƒ???????????????
$ git reset <commit>

# ??HEAD??????????????∑⁄????????¶ƒ??????????
$ git reset --keep <commit>

# ????????????????????
$ git reset --hard HEAD

# ??HEAD??????????∑⁄??????????∑⁄???????????
$ git reset --hard <commit-hash>

# ??????????????????
$ git reset --hard <remote/branch> e.g., upstream/master, origin/my-feature

# ???????????????ß“??????
$ git checkout HEAD <file>
```

##### ??????`.gitignore`???????????????

```bash
$ git rm -r --cached .
$ git add .
$ git commit -m "remove xyz file"
```

#### ??????????

#### ?????????????????????????∑⁄

```bash
$ git revert <commit-hash>
```

#### ???????????∑⁄

```bash
# ????????????commit-hash ????????????????????????????
$ git reset --hard <commit-hash>
$ git push -f
```

### ??????????

#### ????

```bash
# ????????∑⁄???????????HEAD??
$ git fetch <remote>

# ??????∑⁄?????????∑⁄??
$ git pull origin master

# ??rebase????????????????
$ git pull --rebase <remote> <branch>
```

#### ????

```bash
# ??????∑⁄?????????
$ git push remote <remote> <branch>

# ?????????
$ git push <remote> :<branch> (since Git v1.5.0)
$ git push <remote> --delete <branch> (since Git v1.7.0)

# ???????
$ git push --tags
```

### ?????

#### ???????°§?????????????

```bash
$ git status
```

#### ???????????∑⁄???????

```bash
$ git diff
```

#### ????????

```bash
# ???????????????????ß÷???????????hash?? ????????????????????
$ git log

# ?????????????????
$ git log --author="username"

# ??????????????????
$ git log -p <file>
```

#### ???????????

```bash
# ????????????????ß”??????????
$ git grep "Hello"

# ?????∑⁄?????????
$ git grep "Hello" v2.5
```

### ???????

#### ???????

```bash
# ?ß‘????ß÷???
$ git branch

# ?ß‘????ß÷??????
$ git branch -r

# ??????????????°§??
$ git branch <new-branch>

# ???????????????????????
$ git branch --track <new-branch> <remote-branch>

# ?????????
$ git branch -d <branch>

# ???????????????????¶ƒ????????
$ git branch -D <branch>
```

#### ?ß›????

```bash
# ?ß›????
$ git checkout <branch>

# ???????ß›????°§??
$ git checkout -b <branch>
```

#### ???

```bash
# ??????∑⁄????
$ git tag <tag-name>

# ??????∑⁄?????????????
$ git tag -a <tag-name>
```

### ?????????

> merge ?? rebase ????? git ???®¥?????????????ˆˆ???? git ?????????????????
>
> ?????????????????????ß’??????????????????????????
>
> ?????????????? Git GUI ?????

#### ???

```bash
# ?????????????HEAD??
$ git merge <branch>
```

#### ????

```bash
# ?????HEAD?∑⁄?????????ßµ??????????????????
$ git rebase <branch>
```

### Github

Github ???????????????ßø???????????????????????????????????

??????? Github ???°¬??????ß”??????????????????¶œ????????https://guides.github.com/

#### clone ???

Git ???????ßø?ÔìHTTPS / SSH / GIT

?? Github ????? HTTPS ?? SSH??

HTTPS ?????????????? push ?????????????????????ßª??????

?? SSH ?????????????ÔÖ???????? Github ??????????????????˙ë???˙ë??????????????????? push ????????????????????????

<br><div align="center"><img src="http://upload-images.jianshu.io/upload_images/3101171-66f60822aeb2c21c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"/></div><br>

?????????????????????ÔÖ????? Github ?????

#### ???? SSH ???

???????????? Git ??????????? SSH ???????????? ????? Git ???????? SSH ????????????????¶ƒ??????????????????????????? ????????????ß”???????????????? ?????????????????????????????? ?????????????? SSH ????õ•???? `\~/.ssh` ????? ??????????ß‘??????????????????????????????????????

```
$ cd ~/.ssh
$ ls
authorized_keys2  id_dsa       known_hosts
config            id_dsa.pub
```

??????????????? `id_dsa` ?? `id_rsa` ?????????????????????? `.pub` ??????? `.pub` ????????????????????????? ????????????????????????????? `.ssh` ?????????????????? `ssh-keygen` ????????????????? Linux/Mac ???ßµ?`ssh-keygen` ?? SSH ??????????? Windows ????®Æ???????? MSysGit ??????ß≥?

```
$ ssh-keygen
Generating public/private rsa key pair.
Enter file in which to save the key (/home/schacon/.ssh/id_rsa):
Created directory '/home/schacon/.ssh'.
Enter passphrase (empty for no passphrase):
Enter same passphrase again:
Your identification has been saved in /home/schacon/.ssh/id_rsa.
Your public key has been saved in /home/schacon/.ssh/id_rsa.pub.
The key fingerprint is:
d0:82:24:8e:d7:f1:bb:9b:33:53:96:93:49:da:9b:e3 schacon@mylaptop.local
```

???? `ssh-keygen` ??????????õ•¶À???????? `.ssh/id_rsa`??????????????????????????????˛ü?????????????????????????????????®¿?

???????????????????????????????????????????????? Git ???????????????????????????????????? SSH ?????????? ????????????????????? `.pub` ????????????????????????? ??????????????????

```
$ cat ~/.ssh/id_rsa.pub
ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAklOUpkDHrfHY17SbrmTIpNLTGK9Tjom/BWDSU
GPl+nafzlHDTYW7hdI4yZ5ew18JH4JW9jbhUFrviQzM7xlELEVf4h9lFX5QVkbPppSwg0cda3
Pbv7kOdJ/MTyBlWXFCR+HAo3FXRitBqxiX1nKhXpHAZsMciLq8V6RjsNAQwdsdMFvSlVK/7XA
t3FaoJoAsncM1Q9x5+3V0Ww68/eIFmb1zuUFljQJKprrX88XypNDvjYNby6vw/Pb0rwert/En
mZ+AW4OZPnTPI89ZPmVMLuayrD2cE86Z/il8b+gw3r3+1nKatmIkjn2so1d01QraTlMqVSsbx
NrRFi9wrf+M7Q== schacon@mylaptop.local
```

????? Github ????ßµ????¶≈?? **Settings** > **SSH and GPG keys** > **New SSH key**

???????????????????????? `Key` ??????µµ??????®¿?

???ó®????????? Github ??????? SSH ??????®¿?

<br><div align="center"><img src="https://help.github.chttps://raw.githubusercontent.com/dunwu/design/master/images/refactor/help/settings/ssh-key-paste.png"/></div><br>

?????????????????????????¶œ???https://help.github.com/articles/adding-a-new-ssh-key-to-your-github-account/

## ß≥??

???????????????????????????????

<br><div align="center"><img src="http://upload-images.jianshu.io/upload_images/3101171-2044cc669d78eef9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"/></div><br>

## ????

[git ????](https://git-scm.com/) | [git ??? Github](https://github.com/git/git)

[?????? git ???](https://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000)

[git-cheat-sheet](https://github.com/arslanbilal/git-cheat-sheet)

[github-cheat-sheet](https://github.com/tiimgreen/github-cheat-sheet)

[Github gitignore ???](https://github.com/github/gitignore)
